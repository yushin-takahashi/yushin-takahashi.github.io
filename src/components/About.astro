---
// src/components/About.astro

// 学歴データ
const educationHistory = [
  {
    period: "2026.04 - (Planned)",
    school: "Institute of Science Tokyo (Tokyo Tech)",
    schoolJa: "東京科学大学 (旧: 東京工業大学)",
    dept: "School of Computing, Department of Computer Science",
    deptJa: "情報理工学院 情報工学系",
    detail: "Master's Program",
    status: "Incoming"
  },
  {
    period: "2024.04 - 2026.03",
    school: "Hokkaido University",
    schoolJa: "北海道大学",
    dept: "Faculty of Engineering, Department of Information and Electronics Engineering",
    deptJa: "工学部 情報エレクトロニクス学科",
    detail: "Bachelor of Engineering",
    status: "Current"
  },
  {
    period: "2019.04 - 2024.03",
    school: "NIT, Asahikawa College",
    schoolJa: "旭川工業高等専門学校",
    dept: "Electrical and Information Engineering",
    deptJa: "電気情報工学科",
    detail: "Associate Degree of Engineering",
    status: "Graduated"
  }
];
---

<section id="about" class="relative border-b border-grid bg-white">
  <div class="absolute top-4 left-4 text-[10px] font-mono text-gray-400">
    SECTION: ABOUT_BIO // ID: 001.
  </div>

  <div class="max-w-screen-xl mx-auto px-8 md:px-16 py-20">
    <div class="flex flex-col gap-16">
      
      <div class="max-w-3xl">
        <h2 class="text-2xl font-bold mb-8 flex items-center gap-3">
          <span class="text-primary font-mono text-lg">01.</span>
          About Me
        </h2>
        <div class="prose prose-sm text-gray-600 leading-relaxed space-y-4">
          <p>
            北海道大学工学部4年の高橋優心です。<br>
            高専から大学編入を経て、東京科学大学 (旧:東工大) 情報理工学院に進学予定です。
          </p>
          <p>
            「勝ちに不思議の勝ちあり、負けに不思議の負けなし」を座右の銘とし、論理的な思考と実装力を重視しています。
          </p>
          <p>
            高専時代の卒業研究では Transformer における Grokking 現象を、現在は自己駆動粒子系のシミュレーション研究を行っており、
            <strong class="text-primary">「数理モデルによる現象の記述」と「エンジニアリングによる実装」</strong>
            の両輪を回すことを強みとしています。
          </p>
        </div>

        <div class="mt-8 p-4 bg-gray-50 border border-grid border-l-4 border-l-primary italic text-sm text-gray-500">
          予曰く。勝に不思議の勝あり。負に不思議の負なし。 
          問、如何なれば不思議の勝と云う。 
          曰く、道を遵び術を守ときは、其の心必ず勇ならずと雖ども勝ち得る。 
          是の心を顧るときは則ち不思議とす。
          故に曰ふ。又問、如何なれば不思議の負なしと云ふ。 
          曰、道に背き術に違へれば、然るときは其負疑ひ無し、故に爾に云ふ、客乃伏す。
          <br>（松浦静山『甲子夜話』巻四十二）
        </div>
      </div>

<div class="max-w-3xl">
        <h3 class="text-lg font-bold mb-8 font-mono text-gray-400 flex items-center gap-2">
          <span class="w-2 h-2 bg-primary/50"></span>
          EDUCATION_PATH
        </h3>

        <div class="relative">
          {educationHistory.map((edu, index) => (
            // pb-10で下の余白を作り、その中に線を引く (最後の項目は余白なし)
            <div class={`relative pl-10 ${index !== educationHistory.length - 1 ? 'pb-10' : ''}`}>
              
              {index !== educationHistory.length - 1 && (
                <div 
                  class={`absolute left-2 top-2 h-full w-[2px] -translate-x-1/2 z-0
                    ${edu.status === 'Incoming' ? 'bg-gray-200' : 'bg-primary'}`}
                ></div>
              )}

              <div class="absolute left-2 top-1.5 -translate-x-1/2 z-10">
                {edu.status === 'Incoming' && (
                  // 進学予定: 白抜き + 枠線
                  <div class="w-4 h-4 rounded-full bg-white border-2 border-primary box-content"></div>
                )}
                {edu.status === 'Current' && (
                  // 在学中: 塗りつぶし + 強調リング (Pulse)
                  <div class="relative w-4 h-4">
                    <div class="absolute inset-0 rounded-full bg-primary animate-pulse opacity-30 scale-150"></div>
                    <div class="relative w-4 h-4 rounded-full bg-primary border-2 border-white ring-1 ring-primary"></div>
                  </div>
                )}
                {edu.status === 'Graduated' && (
                  // 卒業: シンプルな塗りつぶし
                  <div class="w-4 h-4 rounded-full bg-primary border-2 border-white"></div>
                )}
              </div>

              <span class={`font-mono text-xs block mb-1 ${edu.status === 'Graduated' ? 'text-gray-400' : 'text-primary font-bold'}`}>
                {edu.period}
              </span>

              <h4 class="text-base font-bold text-text">
                {edu.school}
              </h4>
              <div class="text-xs text-gray-500 mb-2">{edu.schoolJa}</div>

              <div class="bg-gray-50 border border-grid rounded px-3 py-2 inline-block">
                 <div class="text-sm font-medium text-gray-700">{edu.dept}</div>
                 <div class="text-xs text-gray-400 mt-0.5">{edu.deptJa}</div>
              </div>
            </div>
          ))}
        </div>
      </div>

    </div>
  </div>
</section>